<!DOCTYPE html><html class=''>
<head><script src='//assets.codepen.io/assets/editor/live/console_runner-ba402f0a8d1d2ce5a72889b81a71a979.js'></script><script src='//assets.codepen.io/assets/editor/live/events_runner-902c66a0175801ad4cdf661b3208a97b.js'></script><script src='//assets.codepen.io/assets/editor/live/css_live_reload_init-bad5f8d322020126e7b4287d497c7efe.js'></script><meta charset='UTF-8'><meta name="robots" content="noindex"><link rel="canonical" href="http://codepen.io/liabru/pen/soGfr" />

<link rel='stylesheet prefetch' href='//codepen.io/assets/reset/reset.css'>
<style class="cp-pen-styles">body {
  background: white;
  text-align: center;
}

canvas {
  display: inline-block;
  max-width: 100%;
  max-height: 100%;
}
canvas:active { 
  cursor: pointer;
}</style></head><body>
<!-- 

Matter.js - Avalanche Example
http://brm.io/matter-js/

-->
<script src='//assets.codepen.io/assets/common/stopExecutionOnTimeout.js?t=1'></script><script src='http://brm.io/js/libs/matter-js/matter-0.8.0.min.js'></script>
<script>var Engine = Matter.Engine, World = Matter.World, Body = Matter.Body, Bodies = Matter.Bodies, Common = Matter.Common, Composites = Matter.Composites;
    
    var engine = Engine.create(document.body, {
        render: {
            options: {
                showAngleIndicator: true,
                wireframes: false
                
            }
        }
    });
    
    var stack = Composites.stack(20, 20, 20, 5, 0, 0, function (x, y, column, row) {
        return Bodies.circle(x, y, Common.random(15, 30), {
            friction: 0.001,
            restitution: 0.5,
            density: 0.001,
        });
    });
    
    World.add(engine.world, stack);

    var offset = 0;
    World.add(engine.world, [
        Bodies.rectangle(400, -offset, 800 + 2 * offset, 1, { isStatic: true }),
        Bodies.rectangle(400, 600 + offset, 800 + 2 * offset, 1, { isStatic: true }),
        Bodies.rectangle(800 + offset, 300, 1, 600 + 2 * offset, { isStatic: true }),
        Bodies.rectangle(-offset, 300, 1, 600 + 2 * offset, { isStatic: true })
    ]);
    Engine.run(engine);
    
</script>
</body></html>